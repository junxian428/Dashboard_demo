<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  /* Bright theme for the overall table */
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    background-color: #f9f9f9;
  }
  
  /* Styling for table header cells (th) and regular cells (td) */
  th, td {
    border: 1px solid #dddddd;
    padding: 10px;
    text-align: center;
  }
  
  /* Styling for table header cells */
  th {
    background-color: royalblue;
  }
  
  /* Styling for alternating rows (even rows) */
  tr:nth-child(even) {
    background-color: #f2f2f2;
  }
  
  /* Bright theme for the inline image and heading */

  
  h3 {
    display: inline;
    color: #333;
  }

  .parent-container {
  position: relative;
}

.centered-div {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.center{
margin: auto;
width: 50%;
padding: 10px;
text-align: center;

}

    /* Add any desired styles for the container div */
    #scene-container {
        width: 500px; /* Set the width to 500px */
        height: 250px; /* Set the height to 250px */
    }


</style>

</head>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<body>
 


  
    <br>
    <img src="Person.gif" alt="Animated GIF" style="display:inline; width:100px; height:100px;">
<h3 style="display:inline; ">Sterilizer Tank 1</h3>



<table>
  <tr>
    <th>ID</th>
    <th>Device</th>
    <th>Temp</th>
    <th>Pressure</th>
    <th>Amp</th>
    <th>Steam Inlet Valve Status</th>
    <th>Steam Exhaust Valve Status</th>
    <th>Condensate Status</th>
    <th>Timer 1</th>
    <th>Timer 2</th>
  </tr>
  <tr>
    <td>1</td>
    <td>Sterilizer Tank Unit 1</td>
    <td id="data1">Data 1 </td>
    <td id="data2">Data 2</td>
    <td id="data3">Data 3</td>
    <td id="data4">Open</td>
    <td id="data5">Close</td>
    <td id="data6">Open</td>
    <td id="timer1">600</td>
    <td id="timer2">600</td>

  </tr>

  <tr>
    <td>2</td>
    <td>Sterilizer Tank Unit 2</td>
    <td id="data7">Data 4</td>
    <td id="data8">Data 5</td>
    <td id="data9">Data 6</td>
    <td id="data10">Close</td>
    <td id="data11">Open</td>
    <td id="data12">Close</td>
    <td id="timer3">600</td>
    <td id="timer4">600</td>

  </tr>
</table>




<h3>Sterilizer Tank 2</h3>



<table>
  <tr>
    <th>ID</th>
    <th>Device</th>
    <th>Temp</th>
    <th>Pressure</th>
    <th>Amp</th>
    <th>Steam Inlet Valve Status</th>
    <th>Steam Exhaust Valve Status</th>
    <th>Condensate Status</th>
    <th>Timer 1</th>
    <th>Timer 2</th>
  </tr>
  <tr>
    <td>3</td>
    <td>Sterilizer Tank Unit 3</td>
    <td id="data13">Data 4</td>
    <td id="data14">Data 5</td>
    <td id="data15">Data 6</td>
    <td id="data16">Close</td>
    <td id="data17">Open</td>
    <td id="data18">Open</td>
    <td id="timer5">600</td>
    <td id="timer6">600</td>

  </tr>

  <tr>
    <td>4</td>
    <td>Sterilizer Tank Unit 4</td>
    <td id="data19">Data 4</td>
    <td id="data20">Data 5</td>
    <td id="data21">Data 6</td>
    <td id="data22">Close</td>
    <td id="data23">Open</td>
    <td id="data24">Open</td>
    <td id="timer7">600</td>
    <td id="timer8">600</td>

  </tr>
</table>




<h3>Sterilizer Tank 3</h3>



<table>
  <tr>
    <th>ID</th>
    <th>Device</th>
    <th>Temp</th>
    <th>Pressure</th>
    <th>Amp</th>
    <th>Steam Inlet Valve Status</th>
    <th>Steam Exhaust Valve Status</th>
    <th>Condensate Status</th>
    <th>Timer 1</th>
    <th>Timer 2</th>
  </tr>
  <tr>
    <td>5</td>
    <td>Sterilizer Tank Unit 5</td>
    <td id="data25">Data 4</td>
    <td id="data26">Data 5</td>
    <td id="data27">Data 6</td>
    <td id="data28">Close</td>
    <td id="data29">Open</td>
    <td id="data30">Open</td>
    <td id="timer9">600</td>
    <td id="timer10">600</td>

  </tr>
</table>

<br>
<hr>
<br>


    <div class="center">
        <h3><u>2D perspective view</u></h3>
        <br>
        <img src="SCADA.jpg" width="500" height="250">

    </div>




<br>
<br>
    <div class="center">
        <h3><u>3D perspective view</u></h3>

    </div>
    <div id="scene-container"></div>

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
    <div class="center">
        <h3><u>Graph</u></h3>

    </div>

<br>
<br>
<br>
<br>
<div style="display: flex;">

    <div style="flex: 1; margin-right: 10px;">
      <div style="width: 100%; height: 250px;">
        <h3>Sterilizer Tank 1</h3>
        <canvas id="pressureChart"></canvas>
      </div>
    </div>
  
    <div style="flex: 1;">
      <div style="width: 100%; height: 250px;">
        <h3>Sterilizer Tank 1</h3>
        <canvas id="ampChart"></canvas>
      </div>
    </div>
  
  </div>


<br>


  <div style="display: flex;">

    <div style="flex: 1; margin-right: 10px;">
      <div style="width: 100%; height: 250px;">
        <h3>Sterilizer Tank 2</h3>
        <canvas id="pressureChart_2"></canvas>
      </div>
    </div>
  
    <div style="flex: 1;">
      <div style="width: 100%; height: 250px;">
        <h3>Sterilizer Tank 2</h3>
        <canvas id="ampChart_2"></canvas>
      </div>
    </div>
  
  </div>

  <br>



  <div style="display: flex;">

    <div style="flex: 1; margin-right: 10px;">
      <div style="width: 100%; height: 250px;">
        <h3>Sterilizer Tank 3</h3>
        <canvas id="pressureChart_3"></canvas>
      </div>
    </div>
  
    <div style="flex: 1;">
      <div style="width: 100%; height: 250px;">
        <h3>Sterilizer Tank 3</h3>
        <canvas id="ampChart_3"></canvas>
      </div>
    </div>
  
  </div>

  <script type="module">
    import {
      Camera,
      DirectionalLight,
      Color,
      Material,
      PointLight,
      WebGLRenderer,
      Scene,
      PerspectiveCamera,
      Texture,
      AmbientLight,
    } from 'https://unpkg.com/three@0.120.1/build/three.module.js'
    import { OrbitControls } from 'https://unpkg.com/three@0.120.1/examples/jsm/controls/OrbitControls.js'
    import { GLTFLoader } from 'https://unpkg.com/three@0.120.1/examples/jsm/loaders/GLTFLoader.js'

    let scene, camera, renderer;

    function init() {

      scene = new Scene();
      scene.background = new Color(0xdddddd);

      camera = new PerspectiveCamera(40,window.innerWidth/window.innerHeight,1,5000);
      camera.rotation.y = 45/180*Math.PI;
      camera.position.x = 8;
      camera.position.y = 1;
      camera.position.z = 10;

      const hlight = new AmbientLight (0x404040,100);
      scene.add(hlight);

      const directionalLight = new DirectionalLight(0xffffff,100);
      directionalLight.position.set(0,1,0);
      directionalLight.castShadow = true;
      scene.add(directionalLight);
      const light = new PointLight(0xc4c4c4,10);
      light.position.set(0,300,500);
      scene.add(light);
      const light2 = new PointLight(0xc4c4c4,10);
      light2.position.set(500,100,0);
      scene.add(light2);
      const light3 = new PointLight(0xc4c4c4,10);
      light3.position.set(0,100,-500);
      scene.add(light3);
      const light4 = new PointLight(0xc4c4c4,10);
      light4.position.set(-500,300,500);
      scene.add(light4);

      renderer = new WebGLRenderer({antialias:true});
      renderer.setSize(window.innerWidth,window.innerHeight);
// With this line:
const sceneContainer = document.getElementById('scene-container');
sceneContainer.appendChild(renderer.domElement);


      const controls = new OrbitControls(camera, renderer.domElement);
      // controls.addEventListener('change', renderer);

      let loader = new GLTFLoader();
      loader.load('scene.gltf', function(gltf){
        const car = gltf.scene.children[0];
        console.log('car: ', car);
        car.scale.set(0.5,0.5,0.5);
        scene.add(car);
        animate();
      });
    }
    function animate() {
      renderer.render(scene,camera);
      requestAnimationFrame(animate);
    }
    init();
  </script>

<script>
// Define the dataElements array


let pressureChart; // Define the ampChart variable
const pressureData = []; // Array to store Amp data



let ampChart; // Define the ampChart variable
const ampData = []; // Array to store Amp data





let pressureChart_2; // Define the ampChart variable
const pressureData_2 = []; // Array to store Amp data



let ampChart_2; // Define the ampChart variable
const ampData_2 = []; // Array to store Amp data




let pressureChart_3; // Define the ampChart variable
const pressureData_3 = []; // Array to store Amp data



let ampChart_3; // Define the ampChart variable
const ampData_3 = []; // Array to store Amp data





function createAmpChart() {
  const ctx = document.getElementById('ampChart').getContext('2d');
  ampChart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: Array.from({ length: ampData.length }, (_, i) => i + 1),
      datasets: [{
        label: 'Amp Data',
        data: ampData,
        backgroundColor: 'rgba(255, 99, 132, 0.2)',
        borderColor: 'rgba(255, 99, 132, 1)',
        borderWidth: 2,
        fill: true,
      }],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
}


function createPressureChart() {
  const ctx = document.getElementById('pressureChart').getContext('2d');
  pressureChart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: Array.from({ length: pressureData.length }, (_, i) => i + 1),
      datasets: [{
        label: 'Pressure Data',
        data: pressureData,
        backgroundColor: 'rgba(54, 162, 235, 0.2)', // Blue color with some opacity
        borderColor: 'rgba(54, 162, 235, 1)', // Blue color
        borderWidth: 2,
        fill: true,
      }],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
}




function updatePressureChart() {
  if (pressureChart) {
    pressureChart.data.labels = Array.from({ length:  pressureData.length }, (_, i) => i + 1);
    pressureChart.data.datasets[0].data =  pressureData;
    pressureChart.update();
  } else {
    createPressureChart();
  }
}



function updateAmpChart() {
  if (ampChart) {
    ampChart.data.labels = Array.from({ length: ampData.length }, (_, i) => i + 1);
    ampChart.data.datasets[0].data = ampData;
    ampChart.update();
  } else {
    createAmpChart();
  }
}


/*




*/


function createAmpChart_2() {
  const ctx = document.getElementById('ampChart_2').getContext('2d');
  ampChart_2 = new Chart(ctx, {
    type: 'line',
    data: {
      labels: Array.from({ length: ampData_2.length }, (_, i) => i + 1),
      datasets: [{
        label: 'Amp Data 2',
        data: ampData_2,
        backgroundColor: 'rgba(255, 99, 132, 0.2)',
        borderColor: 'rgba(255, 99, 132, 1)',
        borderWidth: 2,
        fill: true,
      }],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
}


function createPressureChart_2() {
  const ctx = document.getElementById('pressureChart_2').getContext('2d');
  pressureChart_2 = new Chart(ctx, {
    type: 'line',
    data: {
      labels: Array.from({ length: pressureData_2.length }, (_, i) => i + 1),
      datasets: [{
        label: 'Pressure Data 2',
        data: pressureData_2,
        backgroundColor: 'rgba(54, 162, 235, 0.2)', // Blue color with some opacity
        borderColor: 'rgba(54, 162, 235, 1)', // Blue color
        borderWidth: 2,
        fill: true,
      }],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
}




function updatePressureChart_2() {
  if (pressureChart_2) {
    pressureChart_2.data.labels = Array.from({ length:  pressureData_2.length }, (_, i) => i + 1);
    pressureChart_2.data.datasets[0].data =  pressureData_2;
    pressureChart_2.update();
  } else {
    createPressureChart_2();
  }
}



function updateAmpChart_2() {
  if (ampChart_2) {
    ampChart_2.data.labels = Array.from({ length: ampData_2.length }, (_, i) => i + 1);
    ampChart_2.data.datasets[0].data = ampData_2;
    ampChart_2.update();
  } else {
    createAmpChart_2();
  }
}








/*




*/




function updatePressureChart_2() {
  if (pressureChart_2) {
    pressureChart_2.data.labels = Array.from({ length:  pressureData_2.length }, (_, i) => i + 1);
    pressureChart_2.data.datasets[0].data =  pressureData_2;
    pressureChart_2.update();
  } else {
    createPressureChart_2();
  }
}



function updateAmpChart_2() {
  if (ampChart_2) {
    ampChart_2.data.labels = Array.from({ length: ampData_2.length }, (_, i) => i + 1);
    ampChart_2.data.datasets[0].data = ampData_2;
    ampChart_2.update();
  } else {
    createAmpChart_2();
  }
}













/*




*/



function createAmpChart_3() {
  const ctx = document.getElementById('ampChart_3').getContext('2d');
  ampChart_3 = new Chart(ctx, {
    type: 'line',
    data: {
      labels: Array.from({ length: ampData_3.length }, (_, i) => i + 1),
      datasets: [{
        label: 'Amp Data 3',
        data: ampData_3,
        backgroundColor: 'rgba(255, 99, 132, 0.2)',
        borderColor: 'rgba(255, 99, 132, 1)',
        borderWidth: 2,
        fill: true,
      }],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
}


function createPressureChart_3() {
  const ctx = document.getElementById('pressureChart_3').getContext('2d');
  pressureChart_3 = new Chart(ctx, {
    type: 'line',
    data: {
      labels: Array.from({ length: pressureData_3.length }, (_, i) => i + 1),
      datasets: [{
        label: 'Pressure Data 3',
        data: pressureData_3,
        backgroundColor: 'rgba(54, 162, 235, 0.2)', // Blue color with some opacity
        borderColor: 'rgba(54, 162, 235, 1)', // Blue color
        borderWidth: 2,
        fill: true,
      }],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
}




function updatePressureChart_3() {
  if (pressureChart_3) {
    pressureChart_3.data.labels = Array.from({ length:  pressureData_3.length }, (_, i) => i + 1);
    pressureChart_3.data.datasets[0].data =  pressureData_3;
    pressureChart_3.update();
  } else {
    createPressureChart_3();
  }
}



function updateAmpChart_3() {
  if (ampChart_3) {
    ampChart_3.data.labels = Array.from({ length: ampData_3.length }, (_, i) => i + 1);
    ampChart_3.data.datasets[0].data = ampData_3;
    ampChart_3.update();
  } else {
    createAmpChart_3();
  }
}








/*




*/




function updatePressureChart_3() {
  if (pressureChart_3) {
    pressureChart_3.data.labels = Array.from({ length:  pressureData_3.length }, (_, i) => i + 1);
    pressureChart_3.data.datasets[0].data =  pressureData_3;
    pressureChart_3.update();
  } else {
    createPressureChart_3();
  }
}



function updateAmpChart_3() {
  if (ampChart_3) {
    ampChart_3.data.labels = Array.from({ length: ampData_3.length }, (_, i) => i + 1);
    ampChart_3.data.datasets[0].data = ampData_3;
    ampChart_3.update();
  } else {
    createAmpChart_3();
  }
}






/*










*/




  function updateData() {
    const dataElements = [
      "data1", "data2", "data3", "data4", "data5", "data6","data7","data8","data9","data13","data14","data15","data16","data17","data18","data19","data20",
      "data21","data22","data23","data25","data26","data27","data28","data29"
    ];
    
    dataElements.forEach(elementId => {
      const element = document.getElementById(elementId);
      if(elementId =="data1"){
        element.textContent = getRandomValue(110,130);
      } else if(elementId == "data2"){
        element.textContent = getRandomValue(1,2);



        
   // Remove the oldest value if history exceeds 20 values
   if (pressureData.length >= 20) {
    pressureData.shift(); // Remove the oldest value
  }

  // Add new Amp value to the end of the data array
  pressureData.push( element.textContent);
  updatePressureChart();

  /*



  */


      }else if(elementId == "data3"){
        element.textContent = getRandomValue(75,85);

   // Remove the oldest value if history exceeds 20 values
   if (ampData.length >= 20) {
    ampData.shift(); // Remove the oldest value
  }

  // Add new Amp value to the end of the data array
  ampData.push( element.textContent);

            // Update the Amp chart
            updateAmpChart();
      } else if(elementId == "data7"){
        element.textContent = getRandomValue(110,130);  
      }else if(elementId == "data8"){
        element.textContent = getRandomValue(1,2);

                
   // Remove the oldest value if history exceeds 20 values
   if (pressureData_2.length >= 20) {
    pressureData_2.shift(); // Remove the oldest value
  }

  // Add new Amp value to the end of the data array
  pressureData_2.push( element.textContent);
  updatePressureChart_2();



      }else if(elementId == "data9"){
        element.textContent = getRandomValue(75,85);



           // Remove the oldest value if history exceeds 20 values
   if (ampData_2.length >= 20) {
    ampData_2.shift(); // Remove the oldest value
  }

  // Add new Amp value to the end of the data array
  ampData_2.push( element.textContent);

            // Update the Amp chart
            updateAmpChart_2();






      }else if(elementId == "data13"){
        element.textContent = getRandomValue(110,130);
      }else if(elementId == "data14"){
        element.textContent = getRandomValue(1,2);


        
                
   // Remove the oldest value if history exceeds 20 values
   if (pressureData_3.length >= 20) {
    pressureData_3.shift(); // Remove the oldest value
  }

  // Add new Amp value to the end of the data array
  pressureData_3.push( element.textContent);
  updatePressureChart_3();




      }else if(elementId == "data15"){
        element.textContent = getRandomValue(75,85);


                   // Remove the oldest value if history exceeds 20 values
   if (ampData_3.length >= 20) {
    ampData_3.shift(); // Remove the oldest value
  }

  // Add new Amp value to the end of the data array
  ampData_3.push( element.textContent);

            // Update the Amp chart
            updateAmpChart_3();





      }else if(elementId == "data19"){
        element.textContent = getRandomValue(110,130);
      }else if(elementId == "data20"){
        element.textContent = getRandomValue(1,2);
      }else if(elementId == "data21"){
        element.textContent = getRandomValue(75,85);
      }else if(elementId == "data25"){
        element.textContent = getRandomValue(110,130);
      }else if(elementId == "data26"){
        element.textContent = getRandomValue(1,2);
      }else if(elementId == "data27"){
        element.textContent = getRandomValue(75,85);
      }else{

      }



      const chartData = [
    getRandomValue(110, 130),
    getRandomValue(1, 2),
    getRandomValue(75, 85),
    getRandomValue(110, 130),
    getRandomValue(1, 2),
    getRandomValue(75, 85),
    getRandomValue(110, 130),
    getRandomValue(1, 2),
    getRandomValue(75, 85),
    getRandomValue(110, 130),
    getRandomValue(1, 2),
    getRandomValue(75, 85),
    getRandomValue(110, 130),
    getRandomValue(1, 2),
    getRandomValue(75, 85),
    getRandomValue(110, 130),
    getRandomValue(1, 2),
    getRandomValue(75, 85),
    getRandomValue(110, 130),
    getRandomValue(1, 2),
    getRandomValue(75, 85),
  ];






    });
  }
  





  

  function getRandomValue(min, max) {
  const random = Math.random() * (max - min) + min;
  return random.toFixed(2);
}


  let currentTimer = 1;
  let currentTimer_2 = 3;
  let currentTimer_3 = 5;
  let currentTimer_4 = 7;
  let currentTimer_5 = 9;

  let timers = [600, 0];
  let timers_2 = [600, 0];
  let timers_3 = [600, 0];
  let intervalId;

  function startTimers() {
    intervalId = setInterval(updateTimer, 1000);


  }

  function updateTimer() {
    timers[currentTimer - 1]--;
    timers_2[currentTimer_2 - 3]--;
    timers_3[currentTimer_3 - 5]--;

    if (timers[currentTimer - 1] < 0) {
      clearInterval(intervalId);
      currentTimer = 3 - currentTimer; // Switch to the other timer
      timers[currentTimer - 1] = 600; // Reset the timer
      startTimers();
    } 


    if (timers_2[currentTimer_2 - 1] < 0) {
      currentTimer_2 = 5 - currentTimer_2; // Switch to the other timer
      timers_2[currentTimer_2 - 1] = 600; // Reset the timer
    } 


    if (timers_3[currentTimer_3 - 1] < 0) {
      currentTimer_3 = 7 - currentTimer_3; // Switch to the other timer
      timers_3[currentTimer_3 - 1] = 600; // Reset the timer
    } 

    document.getElementById(`timer${currentTimer}`).textContent = timers[currentTimer - 1];
    document.getElementById(`timer${currentTimer_2}`).textContent = timers[currentTimer - 1];
    document.getElementById(`timer${currentTimer_3}`).textContent = timers[currentTimer - 1];
    document.getElementById(`timer${currentTimer_4}`).textContent = timers[currentTimer - 1];
    document.getElementById(`timer${currentTimer_5}`).textContent = timers[currentTimer - 1];

    
  }

  startTimers();

  setInterval(updateData, 1000); // Update every second



  /*





  */




  


  //setInterval(updateData, 1000); // Update every second
/*





*/











    function toggleStatus(element) {
        if (element.textContent === 'Open') {
            element.textContent = 'Closed';
        } else {
            element.textContent = 'Open';
        }
    }

    function updateData_2() {
        const cells = document.querySelectorAll('#data4, #data5, #data6, #data10, #data11, #data12, #data16, #data17, #data18, #data22, #data23, #data24, #data28, #data29, #data30');
        cells.forEach(cell => toggleStatus(cell));
    }

    // Update the data every 10 seconds
    setInterval(updateData_2, 600000);

</script>
</body>
</html>
